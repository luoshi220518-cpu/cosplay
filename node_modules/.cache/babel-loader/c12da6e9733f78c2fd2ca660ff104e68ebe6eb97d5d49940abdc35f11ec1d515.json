{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\YY\\\\Desktop\\\\cosplay\\\\src\\\\components\\\\ImageCropper.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useRef, useEffect } from 'react';\nimport { X, RotateCcw, Check } from 'lucide-react';\nimport './ImageCropper.css';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst ImageCropper = ({\n  imageSrc,\n  onCrop,\n  onCancel,\n  aspectRatio = 1,\n  cropShape = 'rect'\n}) => {\n  _s();\n  const [crop, setCrop] = useState({\n    x: 0,\n    y: 0,\n    width: 0,\n    height: 0\n  });\n  const [imageLoaded, setImageLoaded] = useState(false);\n  const [imageSize, setImageSize] = useState({\n    width: 0,\n    height: 0\n  });\n  const [containerSize, setContainerSize] = useState({\n    width: 0,\n    height: 0\n  });\n  const [isDragging, setIsDragging] = useState(false);\n  const [dragStart, setDragStart] = useState({\n    x: 0,\n    y: 0\n  });\n  const [initialCrop, setInitialCrop] = useState({\n    x: 0,\n    y: 0,\n    width: 0,\n    height: 0\n  });\n  const containerRef = useRef(null);\n  const imageRef = useRef(null);\n  useEffect(() => {\n    if (imageSrc) {\n      const img = new Image();\n      img.crossOrigin = 'anonymous';\n      img.onload = () => {\n        setImageSize({\n          width: img.width,\n          height: img.height\n        });\n        setImageLoaded(true);\n\n        // 计算容器尺寸\n        const container = containerRef.current;\n        if (container) {\n          const containerRect = container.getBoundingClientRect();\n          const maxWidth = Math.min(containerRect.width - 40, 500);\n          const maxHeight = Math.min(containerRect.height - 40, 400);\n          let displayWidth = img.width;\n          let displayHeight = img.height;\n\n          // 按比例缩放以适应容器\n          if (displayWidth > maxWidth) {\n            displayHeight = displayHeight * maxWidth / displayWidth;\n            displayWidth = maxWidth;\n          }\n          if (displayHeight > maxHeight) {\n            displayWidth = displayWidth * maxHeight / displayHeight;\n            displayHeight = maxHeight;\n          }\n          setContainerSize({\n            width: displayWidth,\n            height: displayHeight\n          });\n\n          // 初始化裁剪区域\n          const cropSize = Math.min(displayWidth, displayHeight) * 0.6;\n          const cropWidth = cropShape === 'circle' ? cropSize : cropSize;\n          const cropHeight = cropShape === 'circle' ? cropSize : cropSize / aspectRatio;\n          setCrop({\n            x: (displayWidth - cropWidth) / 2,\n            y: (displayHeight - cropHeight) / 2,\n            width: cropWidth,\n            height: cropHeight\n          });\n        }\n      };\n      img.onerror = () => {\n        console.error('图片加载失败');\n        setImageLoaded(false);\n      };\n      img.src = imageSrc;\n    }\n  }, [imageSrc, aspectRatio, cropShape]);\n  const handleMouseDown = e => {\n    e.preventDefault();\n    setIsDragging(true);\n    setDragStart({\n      x: e.clientX,\n      y: e.clientY\n    });\n    setInitialCrop({\n      ...crop\n    });\n  };\n  const handleMouseMove = e => {\n    if (!isDragging) return;\n    e.preventDefault();\n    const deltaX = e.clientX - dragStart.x;\n    const deltaY = e.clientY - dragStart.y;\n    const newCrop = {\n      x: Math.max(0, Math.min(containerSize.width - crop.width, initialCrop.x + deltaX)),\n      y: Math.max(0, Math.min(containerSize.height - crop.height, initialCrop.y + deltaY)),\n      width: crop.width,\n      height: crop.height\n    };\n    setCrop(newCrop);\n  };\n  const handleMouseUp = () => {\n    setIsDragging(false);\n  };\n  const handleResize = (direction, e) => {\n    e.preventDefault();\n    e.stopPropagation();\n    const startX = e.clientX;\n    const startY = e.clientY;\n    const startCrop = {\n      ...crop\n    };\n    const handleMouseMove = moveEvent => {\n      moveEvent.preventDefault();\n      const deltaX = moveEvent.clientX - startX;\n      const deltaY = moveEvent.clientY - startY;\n      let newCrop = {\n        ...startCrop\n      };\n\n      // 对于圆形裁剪，保持宽高相等\n      if (cropShape === 'circle') {\n        const delta = Math.max(deltaX, deltaY);\n        newCrop.width = Math.max(50, Math.min(containerSize.width, containerSize.height, startCrop.width + delta));\n        newCrop.height = newCrop.width;\n      } else {\n        switch (direction) {\n          case 'se':\n            // 右下角\n            newCrop.width = Math.max(50, startCrop.width + deltaX);\n            newCrop.height = newCrop.width / aspectRatio;\n            break;\n          case 'sw':\n            // 左下角\n            newCrop.width = Math.max(50, startCrop.width - deltaX);\n            newCrop.height = newCrop.width / aspectRatio;\n            newCrop.x = startCrop.x + (startCrop.width - newCrop.width);\n            break;\n          case 'ne':\n            // 右上角\n            newCrop.width = Math.max(50, startCrop.width + deltaX);\n            newCrop.height = newCrop.width / aspectRatio;\n            newCrop.y = startCrop.y + (startCrop.height - newCrop.height);\n            break;\n          case 'nw':\n            // 左上角\n            newCrop.width = Math.max(50, startCrop.width - deltaX);\n            newCrop.height = newCrop.width / aspectRatio;\n            newCrop.x = startCrop.x + (startCrop.width - newCrop.width);\n            newCrop.y = startCrop.y + (startCrop.height - newCrop.height);\n            break;\n        }\n      }\n\n      // 边界检查\n      newCrop.x = Math.max(0, Math.min(containerSize.width - newCrop.width, newCrop.x));\n      newCrop.y = Math.max(0, Math.min(containerSize.height - newCrop.height, newCrop.y));\n      setCrop(newCrop);\n    };\n    const handleMouseUp = () => {\n      document.removeEventListener('mousemove', handleMouseMove);\n      document.removeEventListener('mouseup', handleMouseUp);\n    };\n    document.addEventListener('mousemove', handleMouseMove);\n    document.addEventListener('mouseup', handleMouseUp);\n  };\n  const handleCrop = () => {\n    if (!imageRef.current) return;\n    const canvas = document.createElement('canvas');\n    const ctx = canvas.getContext('2d');\n\n    // 设置画布尺寸\n    canvas.width = crop.width;\n    canvas.height = crop.height;\n\n    // 计算实际图片中的裁剪区域\n    const scaleX = imageSize.width / containerSize.width;\n    const scaleY = imageSize.height / containerSize.height;\n    const sourceX = crop.x * scaleX;\n    const sourceY = crop.y * scaleY;\n    const sourceWidth = crop.width * scaleX;\n    const sourceHeight = crop.height * scaleY;\n\n    // 如果是圆形裁剪\n    if (cropShape === 'circle') {\n      ctx.beginPath();\n      ctx.arc(crop.width / 2, crop.height / 2, crop.width / 2, 0, 2 * Math.PI);\n      ctx.clip();\n    }\n\n    // 绘制裁剪后的图片\n    ctx.drawImage(imageRef.current, sourceX, sourceY, sourceWidth, sourceHeight, 0, 0, crop.width, crop.height);\n\n    // 转换为base64\n    const croppedImageData = canvas.toDataURL('image/jpeg', 0.9);\n    onCrop(croppedImageData);\n  };\n  const handleReset = () => {\n    const cropSize = Math.min(containerSize.width, containerSize.height) * 0.8;\n    const cropWidth = cropShape === 'circle' ? cropSize : cropSize;\n    const cropHeight = cropShape === 'circle' ? cropSize : cropSize / aspectRatio;\n    setCrop({\n      x: (containerSize.width - cropWidth) / 2,\n      y: (containerSize.height - cropHeight) / 2,\n      width: cropWidth,\n      height: cropHeight\n    });\n  };\n  if (!imageSrc || !imageLoaded) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"image-cropper\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"cropper-loading\",\n        children: \"\\u52A0\\u8F7D\\u4E2D...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 216,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 215,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"image-cropper\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"cropper-header\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \"\\u88C1\\u526A\\u56FE\\u7247\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 224,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"cropper-actions\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"reset-btn\",\n          onClick: handleReset,\n          title: \"\\u91CD\\u7F6E\",\n          children: /*#__PURE__*/_jsxDEV(RotateCcw, {\n            size: 16\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 227,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 226,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"cancel-btn\",\n          onClick: onCancel,\n          children: [/*#__PURE__*/_jsxDEV(X, {\n            size: 16\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 230,\n            columnNumber: 13\n          }, this), \"\\u53D6\\u6D88\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 229,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"confirm-btn\",\n          onClick: handleCrop,\n          children: [/*#__PURE__*/_jsxDEV(Check, {\n            size: 16\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 234,\n            columnNumber: 13\n          }, this), \"\\u786E\\u8BA4\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 233,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 225,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 223,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"cropper-body\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"cropper-container\",\n        ref: containerRef,\n        onMouseMove: handleMouseMove,\n        onMouseUp: handleMouseUp,\n        onMouseLeave: handleMouseUp,\n        style: {\n          width: containerSize.width,\n          height: containerSize.height,\n          minWidth: '300px',\n          minHeight: '300px'\n        },\n        children: imageLoaded && /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(\"img\", {\n            ref: imageRef,\n            src: imageSrc,\n            alt: \"\\u88C1\\u526A\\u9884\\u89C8\",\n            style: {\n              width: '100%',\n              height: '100%',\n              objectFit: 'contain',\n              cursor: isDragging ? 'grabbing' : 'grab',\n              display: 'block'\n            },\n            draggable: false\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 256,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"crop-overlay\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"crop-selection\",\n              style: {\n                left: crop.x,\n                top: crop.y,\n                width: crop.width,\n                height: crop.height,\n                borderRadius: cropShape === 'circle' ? '50%' : '0'\n              },\n              onMouseDown: handleMouseDown,\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"resize-handle nw\",\n                onMouseDown: e => handleResize('nw', e)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 284,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"resize-handle ne\",\n                onMouseDown: e => handleResize('ne', e)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 285,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"resize-handle sw\",\n                onMouseDown: e => handleResize('sw', e)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 286,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"resize-handle se\",\n                onMouseDown: e => handleResize('se', e)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 287,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 272,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 271,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 241,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 240,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"cropper-footer\",\n      children: /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"\\u62D6\\u62FD\\u79FB\\u52A8\\u88C1\\u526A\\u533A\\u57DF\\uFF0C\\u62D6\\u62FD\\u89D2\\u843D\\u8C03\\u6574\\u5927\\u5C0F\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 296,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 295,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 222,\n    columnNumber: 5\n  }, this);\n};\n_s(ImageCropper, \"0WwE1t6nIlUZWvZxO8abXHyPa6w=\");\n_c = ImageCropper;\nexport default ImageCropper;\nvar _c;\n$RefreshReg$(_c, \"ImageCropper\");","map":{"version":3,"names":["React","useState","useRef","useEffect","X","RotateCcw","Check","jsxDEV","_jsxDEV","Fragment","_Fragment","ImageCropper","imageSrc","onCrop","onCancel","aspectRatio","cropShape","_s","crop","setCrop","x","y","width","height","imageLoaded","setImageLoaded","imageSize","setImageSize","containerSize","setContainerSize","isDragging","setIsDragging","dragStart","setDragStart","initialCrop","setInitialCrop","containerRef","imageRef","img","Image","crossOrigin","onload","container","current","containerRect","getBoundingClientRect","maxWidth","Math","min","maxHeight","displayWidth","displayHeight","cropSize","cropWidth","cropHeight","onerror","console","error","src","handleMouseDown","e","preventDefault","clientX","clientY","handleMouseMove","deltaX","deltaY","newCrop","max","handleMouseUp","handleResize","direction","stopPropagation","startX","startY","startCrop","moveEvent","delta","document","removeEventListener","addEventListener","handleCrop","canvas","createElement","ctx","getContext","scaleX","scaleY","sourceX","sourceY","sourceWidth","sourceHeight","beginPath","arc","PI","clip","drawImage","croppedImageData","toDataURL","handleReset","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","title","size","ref","onMouseMove","onMouseUp","onMouseLeave","style","minWidth","minHeight","alt","objectFit","cursor","display","draggable","left","top","borderRadius","onMouseDown","_c","$RefreshReg$"],"sources":["C:/Users/YY/Desktop/cosplay/src/components/ImageCropper.js"],"sourcesContent":["import React, { useState, useRef, useEffect } from 'react';\r\nimport { X, RotateCcw, Check } from 'lucide-react';\r\nimport './ImageCropper.css';\r\n\r\nconst ImageCropper = ({ \r\n  imageSrc, \r\n  onCrop, \r\n  onCancel, \r\n  aspectRatio = 1, \r\n  cropShape = 'rect' \r\n}) => {\r\n  const [crop, setCrop] = useState({ x: 0, y: 0, width: 0, height: 0 });\r\n  const [imageLoaded, setImageLoaded] = useState(false);\r\n  const [imageSize, setImageSize] = useState({ width: 0, height: 0 });\r\n  const [containerSize, setContainerSize] = useState({ width: 0, height: 0 });\r\n  const [isDragging, setIsDragging] = useState(false);\r\n  const [dragStart, setDragStart] = useState({ x: 0, y: 0 });\r\n  const [initialCrop, setInitialCrop] = useState({ x: 0, y: 0, width: 0, height: 0 });\r\n\r\n  const containerRef = useRef(null);\r\n  const imageRef = useRef(null);\r\n\r\n  useEffect(() => {\r\n    if (imageSrc) {\r\n      const img = new Image();\r\n      img.crossOrigin = 'anonymous';\r\n      img.onload = () => {\r\n        setImageSize({ width: img.width, height: img.height });\r\n        setImageLoaded(true);\r\n        \r\n        // 计算容器尺寸\r\n        const container = containerRef.current;\r\n        if (container) {\r\n          const containerRect = container.getBoundingClientRect();\r\n          const maxWidth = Math.min(containerRect.width - 40, 500);\r\n          const maxHeight = Math.min(containerRect.height - 40, 400);\r\n          \r\n          let displayWidth = img.width;\r\n          let displayHeight = img.height;\r\n          \r\n          // 按比例缩放以适应容器\r\n          if (displayWidth > maxWidth) {\r\n            displayHeight = (displayHeight * maxWidth) / displayWidth;\r\n            displayWidth = maxWidth;\r\n          }\r\n          if (displayHeight > maxHeight) {\r\n            displayWidth = (displayWidth * maxHeight) / displayHeight;\r\n            displayHeight = maxHeight;\r\n          }\r\n          \r\n          setContainerSize({ width: displayWidth, height: displayHeight });\r\n          \r\n          // 初始化裁剪区域\r\n          const cropSize = Math.min(displayWidth, displayHeight) * 0.6;\r\n          const cropWidth = cropShape === 'circle' ? cropSize : cropSize;\r\n          const cropHeight = cropShape === 'circle' ? cropSize : cropSize / aspectRatio;\r\n          \r\n          setCrop({\r\n            x: (displayWidth - cropWidth) / 2,\r\n            y: (displayHeight - cropHeight) / 2,\r\n            width: cropWidth,\r\n            height: cropHeight\r\n          });\r\n        }\r\n      };\r\n      img.onerror = () => {\r\n        console.error('图片加载失败');\r\n        setImageLoaded(false);\r\n      };\r\n      img.src = imageSrc;\r\n    }\r\n  }, [imageSrc, aspectRatio, cropShape]);\r\n\r\n  const handleMouseDown = (e) => {\r\n    e.preventDefault();\r\n    setIsDragging(true);\r\n    setDragStart({ x: e.clientX, y: e.clientY });\r\n    setInitialCrop({ ...crop });\r\n  };\r\n\r\n  const handleMouseMove = (e) => {\r\n    if (!isDragging) return;\r\n    e.preventDefault();\r\n\r\n    const deltaX = e.clientX - dragStart.x;\r\n    const deltaY = e.clientY - dragStart.y;\r\n\r\n    const newCrop = {\r\n      x: Math.max(0, Math.min(containerSize.width - crop.width, initialCrop.x + deltaX)),\r\n      y: Math.max(0, Math.min(containerSize.height - crop.height, initialCrop.y + deltaY)),\r\n      width: crop.width,\r\n      height: crop.height\r\n    };\r\n\r\n    setCrop(newCrop);\r\n  };\r\n\r\n  const handleMouseUp = () => {\r\n    setIsDragging(false);\r\n  };\r\n\r\n  const handleResize = (direction, e) => {\r\n    e.preventDefault();\r\n    e.stopPropagation();\r\n    const startX = e.clientX;\r\n    const startY = e.clientY;\r\n    const startCrop = { ...crop };\r\n\r\n    const handleMouseMove = (moveEvent) => {\r\n      moveEvent.preventDefault();\r\n      const deltaX = moveEvent.clientX - startX;\r\n      const deltaY = moveEvent.clientY - startY;\r\n\r\n      let newCrop = { ...startCrop };\r\n\r\n      // 对于圆形裁剪，保持宽高相等\r\n      if (cropShape === 'circle') {\r\n        const delta = Math.max(deltaX, deltaY);\r\n        newCrop.width = Math.max(50, Math.min(containerSize.width, containerSize.height, startCrop.width + delta));\r\n        newCrop.height = newCrop.width;\r\n      } else {\r\n        switch (direction) {\r\n          case 'se': // 右下角\r\n            newCrop.width = Math.max(50, startCrop.width + deltaX);\r\n            newCrop.height = newCrop.width / aspectRatio;\r\n            break;\r\n          case 'sw': // 左下角\r\n            newCrop.width = Math.max(50, startCrop.width - deltaX);\r\n            newCrop.height = newCrop.width / aspectRatio;\r\n            newCrop.x = startCrop.x + (startCrop.width - newCrop.width);\r\n            break;\r\n          case 'ne': // 右上角\r\n            newCrop.width = Math.max(50, startCrop.width + deltaX);\r\n            newCrop.height = newCrop.width / aspectRatio;\r\n            newCrop.y = startCrop.y + (startCrop.height - newCrop.height);\r\n            break;\r\n          case 'nw': // 左上角\r\n            newCrop.width = Math.max(50, startCrop.width - deltaX);\r\n            newCrop.height = newCrop.width / aspectRatio;\r\n            newCrop.x = startCrop.x + (startCrop.width - newCrop.width);\r\n            newCrop.y = startCrop.y + (startCrop.height - newCrop.height);\r\n            break;\r\n        }\r\n      }\r\n\r\n      // 边界检查\r\n      newCrop.x = Math.max(0, Math.min(containerSize.width - newCrop.width, newCrop.x));\r\n      newCrop.y = Math.max(0, Math.min(containerSize.height - newCrop.height, newCrop.y));\r\n\r\n      setCrop(newCrop);\r\n    };\r\n\r\n    const handleMouseUp = () => {\r\n      document.removeEventListener('mousemove', handleMouseMove);\r\n      document.removeEventListener('mouseup', handleMouseUp);\r\n    };\r\n\r\n    document.addEventListener('mousemove', handleMouseMove);\r\n    document.addEventListener('mouseup', handleMouseUp);\r\n  };\r\n\r\n  const handleCrop = () => {\r\n    if (!imageRef.current) return;\r\n\r\n    const canvas = document.createElement('canvas');\r\n    const ctx = canvas.getContext('2d');\r\n    \r\n    // 设置画布尺寸\r\n    canvas.width = crop.width;\r\n    canvas.height = crop.height;\r\n\r\n    // 计算实际图片中的裁剪区域\r\n    const scaleX = imageSize.width / containerSize.width;\r\n    const scaleY = imageSize.height / containerSize.height;\r\n\r\n    const sourceX = crop.x * scaleX;\r\n    const sourceY = crop.y * scaleY;\r\n    const sourceWidth = crop.width * scaleX;\r\n    const sourceHeight = crop.height * scaleY;\r\n\r\n    // 如果是圆形裁剪\r\n    if (cropShape === 'circle') {\r\n      ctx.beginPath();\r\n      ctx.arc(crop.width / 2, crop.height / 2, crop.width / 2, 0, 2 * Math.PI);\r\n      ctx.clip();\r\n    }\r\n\r\n    // 绘制裁剪后的图片\r\n    ctx.drawImage(\r\n      imageRef.current,\r\n      sourceX, sourceY, sourceWidth, sourceHeight,\r\n      0, 0, crop.width, crop.height\r\n    );\r\n\r\n    // 转换为base64\r\n    const croppedImageData = canvas.toDataURL('image/jpeg', 0.9);\r\n    onCrop(croppedImageData);\r\n  };\r\n\r\n  const handleReset = () => {\r\n    const cropSize = Math.min(containerSize.width, containerSize.height) * 0.8;\r\n    const cropWidth = cropShape === 'circle' ? cropSize : cropSize;\r\n    const cropHeight = cropShape === 'circle' ? cropSize : cropSize / aspectRatio;\r\n    \r\n    setCrop({\r\n      x: (containerSize.width - cropWidth) / 2,\r\n      y: (containerSize.height - cropHeight) / 2,\r\n      width: cropWidth,\r\n      height: cropHeight\r\n    });\r\n  };\r\n\r\n  if (!imageSrc || !imageLoaded) {\r\n    return (\r\n      <div className=\"image-cropper\">\r\n        <div className=\"cropper-loading\">加载中...</div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"image-cropper\">\r\n      <div className=\"cropper-header\">\r\n        <h3>裁剪图片</h3>\r\n        <div className=\"cropper-actions\">\r\n          <button className=\"reset-btn\" onClick={handleReset} title=\"重置\">\r\n            <RotateCcw size={16} />\r\n          </button>\r\n          <button className=\"cancel-btn\" onClick={onCancel}>\r\n            <X size={16} />\r\n            取消\r\n          </button>\r\n          <button className=\"confirm-btn\" onClick={handleCrop}>\r\n            <Check size={16} />\r\n            确认\r\n          </button>\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"cropper-body\">\r\n        <div \r\n          className=\"cropper-container\"\r\n          ref={containerRef}\r\n          onMouseMove={handleMouseMove}\r\n          onMouseUp={handleMouseUp}\r\n          onMouseLeave={handleMouseUp}\r\n          style={{\r\n            width: containerSize.width,\r\n            height: containerSize.height,\r\n            minWidth: '300px',\r\n            minHeight: '300px'\r\n          }}\r\n        >\r\n          {imageLoaded && (\r\n            <>\r\n              <img\r\n                ref={imageRef}\r\n                src={imageSrc}\r\n                alt=\"裁剪预览\"\r\n                style={{\r\n                  width: '100%',\r\n                  height: '100%',\r\n                  objectFit: 'contain',\r\n                  cursor: isDragging ? 'grabbing' : 'grab',\r\n                  display: 'block'\r\n                }}\r\n                draggable={false}\r\n              />\r\n\r\n              {/* 裁剪遮罩 */}\r\n              <div className=\"crop-overlay\">\r\n                <div \r\n                  className=\"crop-selection\"\r\n                  style={{\r\n                    left: crop.x,\r\n                    top: crop.y,\r\n                    width: crop.width,\r\n                    height: crop.height,\r\n                    borderRadius: cropShape === 'circle' ? '50%' : '0'\r\n                  }}\r\n                  onMouseDown={handleMouseDown}\r\n                >\r\n                  {/* 调整手柄 */}\r\n                  <div className=\"resize-handle nw\" onMouseDown={(e) => handleResize('nw', e)}></div>\r\n                  <div className=\"resize-handle ne\" onMouseDown={(e) => handleResize('ne', e)}></div>\r\n                  <div className=\"resize-handle sw\" onMouseDown={(e) => handleResize('sw', e)}></div>\r\n                  <div className=\"resize-handle se\" onMouseDown={(e) => handleResize('se', e)}></div>\r\n                </div>\r\n              </div>\r\n            </>\r\n          )}\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"cropper-footer\">\r\n        <p>拖拽移动裁剪区域，拖拽角落调整大小</p>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ImageCropper;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}