{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\YY\\\\Desktop\\\\cosplay\\\\src\\\\components\\\\ImageCropper.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useRef, useEffect, useCallback } from \"react\";\nimport { X, Check } from \"lucide-react\";\nimport \"./ImageCropper.css\";\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst ImageCropper = ({\n  imageSrc,\n  onCrop,\n  onCancel,\n  cropShape = \"circle\",\n  // circle / rect\n  aspectRatio = 1,\n  // 仅在 rect 下生效，width / height\n  outputWidth = 200,\n  // 输出宽度（rect 使用）\n  outputHeight = 200 // 输出高度（rect 使用）\n}) => {\n  _s();\n  const [crop, setCrop] = useState({\n    x: 0,\n    y: 0\n  });\n  const [zoom, setZoom] = useState(1);\n  const [imageLoaded, setImageLoaded] = useState(false);\n  const [imageSize, setImageSize] = useState({\n    width: 0,\n    height: 0\n  });\n  const [displaySize, setDisplaySize] = useState({\n    width: 0,\n    height: 0\n  });\n  const containerRef = useRef(null);\n  const isDragging = useRef(false);\n  const dragStart = useRef({\n    x: 0,\n    y: 0\n  });\n\n  // 加载图片 & 计算显示尺寸\n  useEffect(() => {\n    if (imageSrc) {\n      const img = new Image();\n      img.onload = () => {\n        setImageSize({\n          width: img.width,\n          height: img.height\n        });\n        setImageLoaded(true);\n        const container = containerRef.current;\n        if (container) {\n          const containerRect = container.getBoundingClientRect();\n          const containerWidth = containerRect.width;\n          const containerHeight = containerRect.height;\n          const imageAspect = img.width / img.height;\n          const containerAspect = containerWidth / containerHeight;\n          let displayWidth, displayHeight;\n          if (imageAspect > containerAspect) {\n            // 图片更宽，以高度为准\n            displayHeight = containerHeight;\n            displayWidth = displayHeight * imageAspect;\n          } else {\n            // 图片更高，以宽度为准\n            displayWidth = containerWidth;\n            displayHeight = displayWidth / imageAspect;\n          }\n          setDisplaySize({\n            width: displayWidth,\n            height: displayHeight\n          });\n          setCrop({\n            x: 0,\n            y: 0\n          }); // 初始偏移为 0\n          setZoom(1);\n        }\n      };\n      img.src = imageSrc;\n    }\n  }, [imageSrc]);\n\n  // 创建图片对象\n  const createImage = url => new Promise((resolve, reject) => {\n    const img = new Image();\n    img.src = url;\n    img.crossOrigin = \"anonymous\";\n    img.onload = () => resolve(img);\n    img.onerror = e => reject(e);\n  });\n\n  // 生成裁剪后的图片\n  const getCroppedImg = async (imageSrc, cropPosition, zoomValue) => {\n    const image = await createImage(imageSrc);\n    const canvas = document.createElement(\"canvas\");\n    const ctx = canvas.getContext(\"2d\");\n\n    // 计算输出尺寸\n    const isCircle = cropShape === \"circle\";\n    const cropSize = 200;\n    const targetWidth = isCircle ? cropSize : outputWidth;\n    const targetHeight = isCircle ? cropSize : outputHeight;\n    canvas.width = targetWidth;\n    canvas.height = targetHeight;\n    const container = containerRef.current;\n    const containerRect = container.getBoundingClientRect();\n    const containerWidth = containerRect.width;\n    const containerHeight = containerRect.height;\n    const scaledWidth = displaySize.width * zoomValue;\n    const scaledHeight = displaySize.height * zoomValue;\n\n    // 裁剪框大小（相对于容器，80%）\n    let frameWidth;\n    let frameHeight;\n    if (isCircle) {\n      const size = Math.min(containerWidth, containerHeight) * 0.8;\n      frameWidth = size;\n      frameHeight = size;\n    } else {\n      // 矩形裁剪：根据期望的宽高比自适应容器\n      const maxWidth = containerWidth * 0.8;\n      const maxHeight = containerHeight * 0.8;\n      const containerAspect = maxWidth / maxHeight;\n      if (containerAspect > aspectRatio) {\n        // 容器较宽，以高度为基准\n        frameHeight = maxHeight;\n        frameWidth = frameHeight * aspectRatio;\n      } else {\n        // 容器较高，以宽度为基准\n        frameWidth = maxWidth;\n        frameHeight = frameWidth / aspectRatio;\n      }\n    }\n\n    // 图片中心点对齐容器中心\n    const offsetX = containerWidth / 2 - scaledWidth / 2 + cropPosition.x;\n    const offsetY = containerHeight / 2 - scaledHeight / 2 + cropPosition.y;\n    const scaleX = imageSize.width / scaledWidth;\n    const scaleY = imageSize.height / scaledHeight;\n\n    // 计算源图截取区域\n    const sourceX = (containerWidth - frameWidth) / 2 - offsetX;\n    const sourceY = (containerHeight - frameHeight) / 2 - offsetY;\n    const sourceWidth = frameWidth;\n    const sourceHeight = frameHeight;\n    ctx.save();\n    if (isCircle) {\n      ctx.beginPath();\n      ctx.arc(targetWidth / 2, targetHeight / 2, Math.min(targetWidth, targetHeight) / 2, 0, 2 * Math.PI);\n      ctx.clip();\n    }\n    ctx.drawImage(image, sourceX * scaleX, sourceY * scaleY, sourceWidth * scaleX, sourceHeight * scaleY, 0, 0, targetWidth, targetHeight);\n    ctx.restore();\n    return new Promise(resolve => {\n      canvas.toBlob(blob => {\n        const reader = new FileReader();\n        reader.onload = () => resolve(reader.result);\n        reader.readAsDataURL(blob);\n      }, \"image/jpeg\");\n    });\n  };\n\n  // 拖拽\n  const handleMouseDown = e => {\n    e.preventDefault();\n    isDragging.current = true;\n    dragStart.current = {\n      x: e.clientX - crop.x,\n      y: e.clientY - crop.y\n    };\n  };\n  const handleMouseMove = e => {\n    if (!isDragging.current) return;\n    e.preventDefault();\n    const newX = e.clientX - dragStart.current.x;\n    const newY = e.clientY - dragStart.current.y;\n    setCrop({\n      x: newX,\n      y: newY\n    });\n  };\n  const handleMouseUp = () => {\n    isDragging.current = false;\n  };\n\n  // 确认裁剪\n  const handleConfirmCrop = useCallback(async () => {\n    try {\n      const croppedImageData = await getCroppedImg(imageSrc, crop, zoom);\n      onCrop(croppedImageData);\n    } catch (e) {\n      console.error(\"裁剪失败:\", e);\n    }\n  }, [imageSrc, crop, zoom, onCrop]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"image-cropper\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"cropper-header\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \"\\u88C1\\u526A\\u56FE\\u7247\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 195,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"cropper-actions\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"cancel-btn\",\n          onClick: onCancel,\n          children: [/*#__PURE__*/_jsxDEV(X, {\n            size: 16\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 198,\n            columnNumber: 13\n          }, this), \" \\u53D6\\u6D88\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 197,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"confirm-btn\",\n          onClick: handleConfirmCrop,\n          children: [/*#__PURE__*/_jsxDEV(Check, {\n            size: 16\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 201,\n            columnNumber: 13\n          }, this), \" \\u786E\\u8BA4\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 200,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 196,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 194,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"cropper-body\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"cropper-container\",\n        ref: containerRef,\n        onMouseMove: handleMouseMove,\n        onMouseUp: handleMouseUp,\n        onMouseLeave: handleMouseUp,\n        children: imageLoaded && /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(\"img\", {\n            src: imageSrc,\n            alt: \"\\u88C1\\u526A\\u9884\\u89C8\",\n            className: \"crop-image\",\n            style: {\n              width: displaySize.width,\n              height: displaySize.height,\n              position: \"absolute\",\n              top: \"50%\",\n              left: \"50%\",\n              transform: `translate(-50%, -50%) translate(${crop.x}px, ${crop.y}px) scale(${zoom})`,\n              transformOrigin: \"center center\",\n              cursor: \"grab\"\n            },\n            onMouseDown: handleMouseDown,\n            draggable: false\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 216,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: `crop-frame ${cropShape === \"circle\" ? \"circle\" : \"rect\"}`\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 235,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 207,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 206,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"cropper-controls\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"zoom-control\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"\\u7F29\\u653E:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 247,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"range\",\n          min: 0.5,\n          max: 3,\n          step: 0.1,\n          value: zoom,\n          onChange: e => setZoom(parseFloat(e.target.value))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 248,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          children: [zoom.toFixed(1), \"x\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 256,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 246,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 245,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"cropper-footer\",\n      children: /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"\\u62D6\\u62FD\\u56FE\\u7247\\u8C03\\u6574\\u4F4D\\u7F6E\\uFF0C\\u4F7F\\u7528\\u6ED1\\u5757\\u8C03\\u6574\\u7F29\\u653E\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 261,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 260,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 193,\n    columnNumber: 5\n  }, this);\n};\n_s(ImageCropper, \"cSGf08TmT1lB4zgTASYFQaGGZWw=\");\n_c = ImageCropper;\nexport default ImageCropper;\nvar _c;\n$RefreshReg$(_c, \"ImageCropper\");","map":{"version":3,"names":["React","useState","useRef","useEffect","useCallback","X","Check","jsxDEV","_jsxDEV","Fragment","_Fragment","ImageCropper","imageSrc","onCrop","onCancel","cropShape","aspectRatio","outputWidth","outputHeight","_s","crop","setCrop","x","y","zoom","setZoom","imageLoaded","setImageLoaded","imageSize","setImageSize","width","height","displaySize","setDisplaySize","containerRef","isDragging","dragStart","img","Image","onload","container","current","containerRect","getBoundingClientRect","containerWidth","containerHeight","imageAspect","containerAspect","displayWidth","displayHeight","src","createImage","url","Promise","resolve","reject","crossOrigin","onerror","e","getCroppedImg","cropPosition","zoomValue","image","canvas","document","createElement","ctx","getContext","isCircle","cropSize","targetWidth","targetHeight","scaledWidth","scaledHeight","frameWidth","frameHeight","size","Math","min","maxWidth","maxHeight","offsetX","offsetY","scaleX","scaleY","sourceX","sourceY","sourceWidth","sourceHeight","save","beginPath","arc","PI","clip","drawImage","restore","toBlob","blob","reader","FileReader","result","readAsDataURL","handleMouseDown","preventDefault","clientX","clientY","handleMouseMove","newX","newY","handleMouseUp","handleConfirmCrop","croppedImageData","console","error","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","ref","onMouseMove","onMouseUp","onMouseLeave","alt","style","position","top","left","transform","transformOrigin","cursor","onMouseDown","draggable","type","max","step","value","onChange","parseFloat","target","toFixed","_c","$RefreshReg$"],"sources":["C:/Users/YY/Desktop/cosplay/src/components/ImageCropper.js"],"sourcesContent":["import React, { useState, useRef, useEffect, useCallback } from \"react\";\r\nimport { X, Check } from \"lucide-react\";\r\nimport \"./ImageCropper.css\";\r\n\r\nconst ImageCropper = ({\r\n  imageSrc,\r\n  onCrop,\r\n  onCancel,\r\n  cropShape = \"circle\", // circle / rect\r\n  aspectRatio = 1, // 仅在 rect 下生效，width / height\r\n  outputWidth = 200, // 输出宽度（rect 使用）\r\n  outputHeight = 200, // 输出高度（rect 使用）\r\n}) => {\r\n  const [crop, setCrop] = useState({ x: 0, y: 0 });\r\n  const [zoom, setZoom] = useState(1);\r\n  const [imageLoaded, setImageLoaded] = useState(false);\r\n  const [imageSize, setImageSize] = useState({ width: 0, height: 0 });\r\n  const [displaySize, setDisplaySize] = useState({ width: 0, height: 0 });\r\n\r\n  const containerRef = useRef(null);\r\n  const isDragging = useRef(false);\r\n  const dragStart = useRef({ x: 0, y: 0 });\r\n\r\n  // 加载图片 & 计算显示尺寸\r\n  useEffect(() => {\r\n    if (imageSrc) {\r\n      const img = new Image();\r\n      img.onload = () => {\r\n        setImageSize({ width: img.width, height: img.height });\r\n        setImageLoaded(true);\r\n\r\n        const container = containerRef.current;\r\n        if (container) {\r\n          const containerRect = container.getBoundingClientRect();\r\n          const containerWidth = containerRect.width;\r\n          const containerHeight = containerRect.height;\r\n\r\n          const imageAspect = img.width / img.height;\r\n          const containerAspect = containerWidth / containerHeight;\r\n\r\n          let displayWidth, displayHeight;\r\n\r\n          if (imageAspect > containerAspect) {\r\n            // 图片更宽，以高度为准\r\n            displayHeight = containerHeight;\r\n            displayWidth = displayHeight * imageAspect;\r\n          } else {\r\n            // 图片更高，以宽度为准\r\n            displayWidth = containerWidth;\r\n            displayHeight = displayWidth / imageAspect;\r\n          }\r\n\r\n          setDisplaySize({ width: displayWidth, height: displayHeight });\r\n          setCrop({ x: 0, y: 0 }); // 初始偏移为 0\r\n          setZoom(1);\r\n        }\r\n      };\r\n      img.src = imageSrc;\r\n    }\r\n  }, [imageSrc]);\r\n\r\n  // 创建图片对象\r\n  const createImage = (url) =>\r\n    new Promise((resolve, reject) => {\r\n      const img = new Image();\r\n      img.src = url;\r\n      img.crossOrigin = \"anonymous\";\r\n      img.onload = () => resolve(img);\r\n      img.onerror = (e) => reject(e);\r\n    });\r\n\r\n  // 生成裁剪后的图片\r\n  const getCroppedImg = async (imageSrc, cropPosition, zoomValue) => {\r\n    const image = await createImage(imageSrc);\r\n    const canvas = document.createElement(\"canvas\");\r\n    const ctx = canvas.getContext(\"2d\");\r\n\r\n    // 计算输出尺寸\r\n    const isCircle = cropShape === \"circle\";\r\n    const cropSize = 200;\r\n    const targetWidth = isCircle ? cropSize : outputWidth;\r\n    const targetHeight = isCircle ? cropSize : outputHeight;\r\n    canvas.width = targetWidth;\r\n    canvas.height = targetHeight;\r\n\r\n    const container = containerRef.current;\r\n    const containerRect = container.getBoundingClientRect();\r\n    const containerWidth = containerRect.width;\r\n    const containerHeight = containerRect.height;\r\n\r\n    const scaledWidth = displaySize.width * zoomValue;\r\n    const scaledHeight = displaySize.height * zoomValue;\r\n\r\n    // 裁剪框大小（相对于容器，80%）\r\n    let frameWidth;\r\n    let frameHeight;\r\n    if (isCircle) {\r\n      const size = Math.min(containerWidth, containerHeight) * 0.8;\r\n      frameWidth = size;\r\n      frameHeight = size;\r\n    } else {\r\n      // 矩形裁剪：根据期望的宽高比自适应容器\r\n      const maxWidth = containerWidth * 0.8;\r\n      const maxHeight = containerHeight * 0.8;\r\n      const containerAspect = maxWidth / maxHeight;\r\n      if (containerAspect > aspectRatio) {\r\n        // 容器较宽，以高度为基准\r\n        frameHeight = maxHeight;\r\n        frameWidth = frameHeight * aspectRatio;\r\n      } else {\r\n        // 容器较高，以宽度为基准\r\n        frameWidth = maxWidth;\r\n        frameHeight = frameWidth / aspectRatio;\r\n      }\r\n    }\r\n\r\n    // 图片中心点对齐容器中心\r\n    const offsetX = containerWidth / 2 - scaledWidth / 2 + cropPosition.x;\r\n    const offsetY = containerHeight / 2 - scaledHeight / 2 + cropPosition.y;\r\n\r\n    const scaleX = imageSize.width / scaledWidth;\r\n    const scaleY = imageSize.height / scaledHeight;\r\n\r\n    // 计算源图截取区域\r\n    const sourceX = (containerWidth - frameWidth) / 2 - offsetX;\r\n    const sourceY = (containerHeight - frameHeight) / 2 - offsetY;\r\n    const sourceWidth = frameWidth;\r\n    const sourceHeight = frameHeight;\r\n\r\n    ctx.save();\r\n\r\n    if (isCircle) {\r\n      ctx.beginPath();\r\n      ctx.arc(targetWidth / 2, targetHeight / 2, Math.min(targetWidth, targetHeight) / 2, 0, 2 * Math.PI);\r\n      ctx.clip();\r\n    }\r\n\r\n    ctx.drawImage(\r\n      image,\r\n      sourceX * scaleX,\r\n      sourceY * scaleY,\r\n      sourceWidth * scaleX,\r\n      sourceHeight * scaleY,\r\n      0,\r\n      0,\r\n      targetWidth,\r\n      targetHeight\r\n    );\r\n\r\n    ctx.restore();\r\n\r\n    return new Promise((resolve) => {\r\n      canvas.toBlob((blob) => {\r\n        const reader = new FileReader();\r\n        reader.onload = () => resolve(reader.result);\r\n        reader.readAsDataURL(blob);\r\n      }, \"image/jpeg\");\r\n    });\r\n  };\r\n\r\n  // 拖拽\r\n  const handleMouseDown = (e) => {\r\n    e.preventDefault();\r\n    isDragging.current = true;\r\n    dragStart.current = { x: e.clientX - crop.x, y: e.clientY - crop.y };\r\n  };\r\n\r\n  const handleMouseMove = (e) => {\r\n    if (!isDragging.current) return;\r\n    e.preventDefault();\r\n\r\n    const newX = e.clientX - dragStart.current.x;\r\n    const newY = e.clientY - dragStart.current.y;\r\n\r\n    setCrop({ x: newX, y: newY });\r\n  };\r\n\r\n  const handleMouseUp = () => {\r\n    isDragging.current = false;\r\n  };\r\n\r\n  // 确认裁剪\r\n  const handleConfirmCrop = useCallback(async () => {\r\n    try {\r\n      const croppedImageData = await getCroppedImg(imageSrc, crop, zoom);\r\n      onCrop(croppedImageData);\r\n    } catch (e) {\r\n      console.error(\"裁剪失败:\", e);\r\n    }\r\n  }, [imageSrc, crop, zoom, onCrop]);\r\n\r\n  return (\r\n    <div className=\"image-cropper\">\r\n      <div className=\"cropper-header\">\r\n        <h3>裁剪图片</h3>\r\n        <div className=\"cropper-actions\">\r\n          <button className=\"cancel-btn\" onClick={onCancel}>\r\n            <X size={16} /> 取消\r\n          </button>\r\n          <button className=\"confirm-btn\" onClick={handleConfirmCrop}>\r\n            <Check size={16} /> 确认\r\n          </button>\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"cropper-body\">\r\n        <div\r\n          className=\"cropper-container\"\r\n          ref={containerRef}\r\n          onMouseMove={handleMouseMove}\r\n          onMouseUp={handleMouseUp}\r\n          onMouseLeave={handleMouseUp}\r\n        >\r\n          {imageLoaded && (\r\n            <>\r\n              <img\r\n                src={imageSrc}\r\n                alt=\"裁剪预览\"\r\n                className=\"crop-image\"\r\n                style={{\r\n                  width: displaySize.width,\r\n                  height: displaySize.height,\r\n                  position: \"absolute\",\r\n                  top: \"50%\",\r\n                  left: \"50%\",\r\n                  transform: `translate(-50%, -50%) translate(${crop.x}px, ${crop.y}px) scale(${zoom})`,\r\n                  transformOrigin: \"center center\",\r\n                  cursor: \"grab\",\r\n                }}\r\n                onMouseDown={handleMouseDown}\r\n                draggable={false}\r\n              />\r\n\r\n              {/* 裁剪框 */}\r\n              <div\r\n                className={`crop-frame ${\r\n                  cropShape === \"circle\" ? \"circle\" : \"rect\"\r\n                }`}\r\n              />\r\n            </>\r\n          )}\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"cropper-controls\">\r\n        <div className=\"zoom-control\">\r\n          <label>缩放:</label>\r\n          <input\r\n            type=\"range\"\r\n            min={0.5}\r\n            max={3}\r\n            step={0.1}\r\n            value={zoom}\r\n            onChange={(e) => setZoom(parseFloat(e.target.value))}\r\n          />\r\n          <span>{zoom.toFixed(1)}x</span>\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"cropper-footer\">\r\n        <p>拖拽图片调整位置，使用滑块调整缩放</p>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ImageCropper;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}